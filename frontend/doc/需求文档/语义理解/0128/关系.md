
# 一、整体设计原则（先定调）

### 1️⃣ 对象是一级概念，字段永远不是

* 页面中的**节点只有“对象”**
* 字段永远以“属性来源”的形式存在

### 2️⃣ 属性是对象的组成，不是平铺字段

* **属性 ≠ 字段**
* 属性是业务语义概念
* 字段是属性的“物理来源”

### 3️⃣ 这是「解释视图」，不是「编辑视图」

* v2.4：**只读 + 解释**
* 所有“确认 / 调整”都留给业务对象建模页

---

# 二、页面整体结构（对象 / 关系双视角）

```text
Frame: CandidateObject_Overview

├─ ContextHeader
├─ ViewSwitcher
│    ├─ 对象结构视角（默认）
│    └─ 对象关系视角
└─ MainCanvas
```

---

# 三、对象结构视角（Object → Attribute → Field）

> **这是默认视角，也是最重要的视角**

---

## 3.1 对象结构视角 · Frame 结构

```text
Frame: ObjectStructureView

├─ ObjectCard (repeat)
│    ├─ ObjectHeader
│    ├─ ObjectMeta
│    ├─ AttributeList
│    │    └─ AttributeItem (repeat)
│    │         ├─ AttributeHeader
│    │         └─ FieldMapping
│    └─ ObjectConfidence
```

---

## 3.2 ObjectCard（候选业务对象卡片）

### ObjectHeader

```text
ObjectHeader
├─ Text: 候选业务对象名称
├─ Tag: 候选对象
└─ Badge: 置信度
```

文案说明（Tooltip）：

> 该业务对象由系统基于字段语义理解自动识别，
> 将在业务对象建模阶段进行确认或调整。

---

### ObjectMeta

```text
ObjectMeta
├─ Text: 来源逻辑视图
├─ Text: 识别方式（字段语义聚合）
└─ Text: 涉及字段数
```

---

## 3.3 AttributeList（对象的业务属性列表）

> **这是你这次问题的核心**

---

### AttributeItem（业务属性）

```text
AttributeItem
├─ AttributeHeader
│    ├─ Text: 属性名称（业务语义）
│    ├─ Tag: 属性角色（主键 / 属性 / 状态 / 时间）
│    └─ Badge: 置信度
└─ FieldMapping
```

---

### AttributeHeader（属性定义）

```text
AttributeHeader
├─ Text: 属性业务名称
├─ SubText: 属性业务说明
└─ Tag: 对象内角色
```

示例：

```text
属性：部门ID
角色：主键
```

---

### FieldMapping（属性 ↔ 字段关系）

> **明确回答：这个属性“来自哪里”**

```text
FieldMapping
├─ Title: 字段来源
└─ FieldItem (repeat)
     ├─ Text: 字段名
     ├─ SubText: 表名 / 列名
     └─ Tag: 字段角色
```

示例：

```text
字段来源：
- dept_id        （字段角色：业务主键）
```

或（多字段）：

```text
字段来源：
- first_name     （字段角色：业务属性）
- last_name      （字段角色：业务属性）
```

> 💡 这一步**自然支持**：
>
> * 一个字段 → 一个属性
> * 多个字段 → 一个属性（如拼接、派生）

---

## 3.4 ObjectConfidence（对象级说明）

```text
ObjectConfidence
├─ Text: 对象置信度 0.82
└─ Hint: 基于属性完整度、字段一致性综合计算
```

---

# 四、对象关系视角（Object ↔ Object）

> **用于解释“对象之间有没有关系”，不下沉字段**

![Image](https://businessanalystmentor.com/wp-content/uploads/2009/02/businessobjectmodel1.gif)

![Image](https://www.researchgate.net/publication/216308073/figure/fig1/AS%3A669406338224141%401536610316515/Conceptual-data-model-of-an-object.png)

![Image](https://www.smartdraw.com/entity-relationship-diagram/img/entity-relationship-diagram-tutorial.png)

---

## 4.1 对象关系视角 · Frame 结构

```text
Frame: ObjectRelationView

├─ RelationLegend
├─ RelationCanvas
│    ├─ ObjectNode (repeat)
│    └─ RelationEdge (repeat)
└─ RelationHint
```

---

## 4.2 ObjectNode（对象节点）

```text
ObjectNode
├─ Text: 对象名称
└─ Badge: 候选对象
```

---

## 4.3 RelationEdge（对象关系）

```text
RelationEdge
├─ Line
└─ Tooltip
```

Tooltip 内容：

```text
关系类型：关联（系统识别）
来源属性：部门ID
来源字段：dept_id
```

> 注意：
>
> * **关系来源指向“属性”，而不是字段**
> * 字段只作为解释信息

---

## 4.4 RelationHint（关系说明）

```text
RelationHint
Text:
对象关系为系统基于字段语义理解推断结果，
最终关系将在业务对象建模阶段确认。
```

---

# 五、三种典型场景的呈现方式（确保不歧义）

---

### 场景 A：一个字段 = 一个对象

```text
对象：状态
属性：
- 状态ID（字段：status_code）
- 状态名称（字段：status_name）
```

---

### 场景 B：多个字段 = 一个对象（最常见）

```text
对象：部门
属性：
- 部门ID（dept_id）
- 部门名称（dept_name）
- 上级部门ID（parent_id）
```

---

### 场景 C：多个对象 + 属性关系

```text
对象：订单
对象：客户

关系：
订单 → 客户
（来源属性：客户ID）
```

---

# 六、为什么这套信息架构是“对的”

1. **严格遵守你已确认的产品分层**

   * 字段语义 → 候选对象 → 对象建模

2. **用户不会混淆**

   * 字段是什么
   * 属性是什么
   * 对象是什么

3. **天然支持后续演进**

   * 属性编辑
   * 对象合并 / 拆分
   * 指标、安全、质量挂载

---

# 七、你可以直接给设计师的一句话任务说明

> 请设计一个候选业务对象查看页面，以对象为核心，展示对象包含的业务属性，并明确每个属性对应的字段来源，同时提供对象之间关系的可视化视角，页面仅用于解释系统识别结果，不支持编辑。

---

