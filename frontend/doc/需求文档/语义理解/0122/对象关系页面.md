## 一、先给结论（可直接定版）

> **不要用单一视图承载所有关系。**
> 最优方案是 **「三层呈现 + 一主一辅」**：
>
> 1. **主视图：对象视角（Object-first）** —— 给 80% 用户
> 2. **辅视图：关系视角（Relation Map）** —— 给理解关系的人
> 3. **字段/属性视角：嵌套在对象里** —— 不单独拉平

核心原则一句话：

> **让用户先看到“有什么对象”，
> 再看到“对象之间怎么连”，
> 最后才看到“字段怎么组成对象”。**

---

## 二、为什么不能“一张图全画完”

如果你把下面三种关系放在同一平面：

* 对象 ↔ 对象
* 对象 ↔ 属性（字段）
* 字段 ↔ 字段（隐含）

用户会出现 3 个问题：

1. **不知道谁是主角**
2. **对象和字段混在一个层级**
3. **关系密度过高，读不出来**

👉 所以必须**分层呈现，而不是分散页面**。

---

## 三、推荐的信息架构（定版）

### 总体结构

```text
逻辑视图详情页
 ├─ 业务对象概览（主视图）
 ├─ 对象关系图（辅视图，可切换）
 └─ 字段明细（嵌套在对象中）
```

---

## 四、主视图：业务对象视角（最重要）

> **这是默认视图，进入页面第一眼看到的内容**

### 4.1 呈现形式（卡片 / 树形）

* 一个 **业务对象 = 一张卡片**
* 卡片内部按角色分组字段

```text
[ 业务对象：订单 ]
  主键
    - order_id
  状态
    - order_status
  时间
    - create_time
  属性
    - order_amount
    - order_type
```

### 4.2 对用户的好处

* 不需要理解“字段角色体系”，也能看懂
* 符合业务人员的自然表达方式
* 一眼知道“这个对象包含什么”

---

### 4.3 对象置信度与来源提示（非常重要）

在对象卡片顶部：

```text
订单   [系统识别 · 置信度 0.86]
```

Tooltip：

> 该业务对象由系统基于字段语义理解自动识别，
> 最终结构将在业务对象建模阶段确认。

---

### 4.4 对象内字段的呈现原则

* **字段 = 属性，不是节点**
* 不画成图
* 不跨对象连线

👉 字段只服务于“解释对象”，不是“理解关系”。

---

## 五、辅视图：对象 ↔ 对象 关系图（可切换）

> **只在用户需要“理解关系”时打开**

![Image](https://businessanalystmentor.com/wp-content/uploads/2009/02/businessobjectmodel1.gif)

![Image](https://beginnersbook.com/wp-content/uploads/2015/04/E-R-Diagram.png)

![Image](https://upload.wikimedia.org/wikipedia/commons/7/72/ER_Diagram_MMORPG.png)

### 5.1 视图切换方式

```text
[ 对象结构 ]  |  [ 对象关系 ]
```

默认在「对象结构」。

---

### 5.2 关系图设计原则（v2.4）

* **节点：业务对象**
* **边：对象关系**
* 不展示字段节点
* 不展示复杂关系类型

```text
[订单] ── 关联 ──> [客户]
```

Hover 显示：

```text
关联字段：customer_id
关系来源：字段语义理解（关联标识）
```

---

### 5.3 为什么不把字段画出来？

因为在 v2.4：

* 关系只是**推断建议**
* 字段级细节已经在对象卡片中

👉 图只解决一件事：
**“对象之间有没有关系”**

---

## 六、字段 / 属性关系的呈现（你特别问到的点）

### 6.1 原则（必须写进设计规范）

> **字段不与对象“并列呈现”，
> 字段永远是对象的内部结构。**

---

### 6.2 呈现方式（推荐）

```text
业务对象：客户
  ├─ 主键
  │    - customer_id
  ├─ 属性
  │    - customer_name
  │    - customer_level
```

字段旁边可用 **Tag / Icon** 表示角色：

```text
customer_id   [主键]
customer_name [属性]
```

---

### 6.3 为什么不单独做“字段关系图”

* 字段关系 ≠ 业务关系
* 容易把用户带回“表结构思维”
* 和你“语义治理”的目标冲突

---

## 七、三种典型业务场景下的呈现效果

### 场景 1：单对象表（最常见）

```text
对象：员工
  - employee_id
  - employee_name
  - employee_gender
```

👉 只显示对象卡片，不显示关系视图入口（或置灰）。

---

### 场景 2：多对象同表

```text
对象：订单
对象：客户
```

👉 默认对象卡片
👉 提供「对象关系」切换入口

---

### 场景 3：属性字段的归属疑问

用户看到：

```text
customer_level
```

可以清楚知道：

```text
业务对象：客户 → 属性
```

而不是：

> “这个字段到底属于谁？”

---

## 八、为什么这套方案对设计 / 开发友好

### 对设计

* 卡片 / 树 / 图 都是成熟模式
* 不需要画复杂混合视图

### 对前端

* 三种组件：

  * ObjectCard
  * ObjectRelationGraph
  * FieldList
* 数据模型清晰

### 对后端

* 不需要生成字段级关系图
* 关系来源可解释、可追溯

---

## 九、可以直接写进 PRD 的总结段

> 数据理解结果以业务对象为核心进行呈现。
> 页面默认以“对象结构视角”展示业务对象及其包含的属性字段；
> 对象之间的关系以可切换的关系视图进行呈现；
> 字段不作为独立节点参与关系展示，而作为业务对象的内部结构进行说明，
> 以降低认知负担并贴近业务用户的理解方式。

---

## 十、我的最终判断（非常重要）

> **不要让用户“理解数据结构”，
> 而是让他们“看到业务结构”。**

这套呈现方式，是**真正从“语义治理”出发的 UI**。

---


