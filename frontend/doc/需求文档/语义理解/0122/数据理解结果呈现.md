# BizSemantic v2.4

## 数据理解结果呈现

### Figma Frame 级信息架构（Object-first）

---

## 总体页面结构（放在逻辑视图详情页中）

```text
Frame: LogicalView_Detail
 ├─ Frame: Header
 ├─ Frame: SemanticSummary
 ├─ Frame: ObjectView (默认)
 └─ Frame: RelationView (可切换)
```

> 说明

* **对象视角（ObjectView）为默认视图**
* **关系视角（RelationView）为辅助视图**
* 不新增独立页面，全部发生在逻辑视图详情页中

---

## Frame 1：Header（逻辑视图上下文）

```text
Frame: Header
 ├─ Text: 逻辑视图名称
 ├─ Tag: 语义建模阶段
 ├─ Text: 数据来源 / Schema
 └─ Actions: [字段语义理解] [刷新]
```

**设计要点**

* Header 永远是“表上下文”
* 不出现对象编辑入口（v2.4 对象只读）

---

## Frame 2：SemanticSummary（语义理解概览）

```text
Frame: SemanticSummary
 ├─ StatCard: 字段总数
 ├─ StatCard: 已完成字段语义
 ├─ StatCard: 识别业务对象数
 └─ StatCard: 对象关系数
```

**目的**

* 给用户一个“理解完成度”的整体感
* 为下方对象视角做心理铺垫

---

## Frame 3：ViewSwitcher（视角切换）

```text
Component: ViewSwitcher
 ├─ Tab: 对象结构（Object View） [Default]
 └─ Tab: 对象关系（Relation View）
```

**交互规则**

* 默认进入「对象结构」
* 只有识别到 ≥2 个对象时，关系视角高亮

---

# 一、对象视角（主视图）

> **这是 80% 用户停留的地方**

---

## Frame 4：ObjectView（业务对象结构视角）

```text
Frame: ObjectView
 ├─ ObjectCard (repeat)
 │    ├─ ObjectHeader
 │    ├─ ObjectMeta
 │    └─ ObjectFieldGroups
```

---

### 4.1 ObjectCard（业务对象卡片）

```text
Component: ObjectCard
 ├─ ObjectHeader
 │    ├─ Text: 对象名称
 │    ├─ Tag: 系统识别
 │    └─ Tag: 置信度
 ├─ ObjectMeta
 │    ├─ Text: 来源逻辑视图
 │    └─ Tooltip: 对象识别说明
 └─ ObjectFieldGroups
```

---

### 4.2 ObjectHeader（对象头部）

```text
ObjectHeader
 ├─ Text: 业务对象名称（如：订单）
 ├─ Badge: 系统识别
 └─ Badge: 置信度 0.xx
```

**Tooltip 文案（设计直接用）**

> 该业务对象由系统基于字段语义理解自动识别，
> 将在业务对象建模阶段进行确认与调整。

---

### 4.3 ObjectFieldGroups（对象字段分组）

```text
ObjectFieldGroups
 ├─ FieldGroup: 主键
 │    ├─ FieldItem
 ├─ FieldGroup: 状态
 │    ├─ FieldItem
 ├─ FieldGroup: 时间
 │    ├─ FieldItem
 └─ FieldGroup: 属性
      ├─ FieldItem
      ├─ FieldItem
```

---

### 4.4 FieldItem（字段呈现）

```text
Component: FieldItem
 ├─ Text: 字段名称
 ├─ Tag: 字段角色（主键 / 属性 / 状态 / 时间）
 └─ Tooltip: 字段语义说明
```

**设计原则**

* 字段 **不是节点**
* 字段 **不画关系线**
* 字段永远嵌套在对象内部

---

## 二、关系视角（辅视图）

> **用于“理解对象之间怎么关联”**

![Image](https://businessanalystmentor.com/wp-content/uploads/2009/02/businessobjectmodel1.gif)

![Image](https://svg.template.creately.com/jvurwt6z2)

![Image](https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/ER_Diagram_MMORPG.png/1280px-ER_Diagram_MMORPG.png)

---

## Frame 5：RelationView（业务对象关系视角）

```text
Frame: RelationView
 ├─ RelationCanvas
 │    ├─ ObjectNode (repeat)
 │    └─ RelationEdge (repeat)
 └─ RelationLegend
```

---

### 5.1 ObjectNode（对象节点）

```text
Component: ObjectNode
 ├─ Text: 对象名称
 └─ Badge: 对象类型（可选）
```

**规则**

* 节点 = 业务对象
* 不展示字段

---

### 5.2 RelationEdge（对象关系）

```text
Component: RelationEdge
 ├─ Line
 └─ Tooltip
```

**Tooltip 内容**

```text
关系类型：关联（系统识别）
关联字段：customer_id
来源：字段语义理解
```

---

### 5.3 RelationLegend（图例）

```text
RelationLegend
 ├─ Icon + Text: 对象
 └─ Icon + Text: 对象关系（建议）
```

---

## 三、两种视角之间的联动规则（必须写进设计）

1. **对象视角是主视图**
2. 关系视角只展示对象级信息
3. 不允许在关系视角编辑任何内容
4. Hover 对象节点 → 高亮对象视角中的 ObjectCard（可选增强）

---

## 四、典型场景下的 Frame 使用

### 场景 1：只识别出 1 个对象

* ObjectView：展示 1 张 ObjectCard
* RelationView：Tab 置灰或提示“暂无对象关系”

### 场景 2：识别出多个对象

* ObjectView：多卡片纵向排列
* RelationView：展示对象关系图

### 场景 3：字段为业务属性

* 仅出现在 ObjectFieldGroups → 属性分组中
* 不出现在关系视图

---

## 五、设计交付清单（你可以直接给设计）

设计需要交付的 Frame：

1. `LogicalView_Detail`
2. `SemanticSummary`
3. `ViewSwitcher`
4. `ObjectView`
5. `ObjectCard`
6. `FieldItem`
7. `RelationView`
8. `ObjectNode`
9. `RelationEdge`

---

## 六、可以直接写进 PRD 的一句话

> 数据理解结果默认以“业务对象结构视角”呈现，通过对象卡片展示对象及其属性字段；对象之间的关系以可切换的关系视角进行呈现，仅用于理解与说明，不参与编辑与裁决。

---

