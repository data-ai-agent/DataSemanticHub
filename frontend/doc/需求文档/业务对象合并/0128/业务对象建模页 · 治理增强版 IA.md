
# 业务对象建模页 · 治理增强版 IA（v2.4）

## 一、设计目标（先统一共识）

当前问题不是“对象能不能建”，而是：

* 治理者不知道 **先处理谁**
* 不清楚 **为什么不能发布**
* 候选 / 待确认 / 已发布 **只是状态，不是行动指引**

**治理增强版的目标只有 3 个：**

1. **让用户一眼知道：现在卡在哪**
2. **明确：下一步该干什么**
3. **把“发布语义版本”作为页面的终点目标**

---

## 二、整体结构（不变的部分）

以下部分 **全部保留你现有设计**：

* 页面路径：
  `语义治理 > 语义建模 > 业务对象建模`
* 左侧：业务域树
* 中部：对象卡片 Grid
* 右上角：

  * `+ 新建对象`
  * `发布语义版本`
* Tabs：

  * 全部 / 候选中 / 待确认 / 已发布

👉 **增强只发生在「顶部 + Tab 内」**

---

## 三、【新增】治理视角 Header（最关键）

### 位置

* **放在 Tabs 上方、标题下方**
* 始终可见（sticky）

---

### 3.1 治理就绪度条（Governance Readiness）

```text
🚫 当前语义版本：不可发布
阻塞项：
- 待确认对象：4
- 冲突未解决：1
- 映射完成度 < 80%：2
👉 查看阻塞对象
```

或（可发布时）：

```text
✅ 当前语义版本：可发布
所有对象满足发布条件
```

#### 工程规则（必须明确）

* 这是一个 **计算结果，不是静态文案**
* 点击「查看阻塞对象」：

  * 自动切换到【待确认 Tab】
  * 并预置筛选条件（阻塞原因）

---

### 3.2 发布按钮的行为（必须调整）

| 状态   | 行为                  |
| ---- | ------------------- |
| 不可发布 | 按钮置灰 + Hover 显示阻塞原因 |
| 可发布  | 正常点击 → 发布流程         |

> ❗禁止“点了才告诉你不能发”

---

## 四、Tabs 的治理语义重定义（非常重要）

### 4.1 全部 Tab（资产视角）

> **我有哪些业务对象**

* 维持你现在的展示逻辑
* 不强调治理，仅展示状态

---

### 4.2 候选中 Tab（AI → 人 的入口）

#### 页面主问题变成：

> **AI 给了我哪些建议，需要我裁决？**

##### 新增内容（在 Summary Bar 下方）：

**候选治理提示条（Action Hint）**

```text
💡 建议优先处理：
- 置信度 < 70% 的候选对象（2）
- 与已发布对象命名冲突的候选（1）
```

👉 这是**治理推荐，不是 KPI**

##### 卡片增强（候选中专属）：

* 必须展示：

  * 置信度
  * 来源表
  * 是否冲突
* 主 CTA 改名：

  * `查看建议` → **`裁决建议`**

---

### 4.3 待确认 Tab（治理阻塞区）⭐

这是你现在**最薄弱、但最关键的一个 Tab**。

#### 必须重定义语义：

> **待确认 = 当前阻塞语义版本发布的对象**

---

#### 待确认 Tab 顶部必须显示：

```text
🚧 当前阻塞发布的对象：4 个
你需要完成以下操作之一：
- 接受 / 拒绝对象
- 解决冲突
- 补全关键属性
```

---

#### 待确认对象卡片【必须】新增「阻塞原因」

在卡片上直接显示：

```text
阻塞原因：
- 存在未解决冲突
- 缺少主键属性
```

并且：

* 点击原因 → 直接跳对应操作（冲突抽屉 / 编辑页）

👉 **这是治理效率的核心**

---

### 4.4 已发布 Tab（下游视角）

> **当前稳定、可用的语义对象**

* 保持只读
* 可查看映射 / 使用情况
* 不展示 AI / 置信度 / 冲突（避免干扰）

---

## 五、对象卡片 · 治理增强规范

### 5.1 卡片统一结构（新增字段）

```text
[对象名]  [主体] [状态Tag]
描述

业务域 | 字段数 | 映射进度
-----------------------
（治理信息区）
- 候选中：置信度 / 来源
- 待确认：阻塞原因（必显）
- 已发布：不显示
-----------------------
CTA
```

---

### 5.2 CTA 行为统一规则

| 状态  | CTA   |
| --- | ----- |
| 候选中 | 裁决建议  |
| 待确认 | 去解决问题 |
| 已发布 | 查看详情  |

---

## 六、对象详情 / 抽屉的治理补强（轻量）

你已有的抽屉基本够用，只补两点：

### 6.1 建议抽屉（AI Suggestion）

在底部增加一个 **“影响提示”**：

```text
⚠️ 接受该对象将：
- 新增 1 个待确认对象
- 阻塞语义版本发布，直到完成映射
```

---

### 6.2 冲突抽屉

在确认操作前明确后果：

```text
确认合并后：
- 原对象 A / B 将合并为 1 个对象
- 字段映射将合并
- 需要重新确认主键
```

👉 **这是治理系统，不是普通 CRUD**

---

## 七、工程可执行的「发布阻塞规则清单」

你可以直接给后端 / 大模型用：

```text
对象允许发布需满足：
1. status = PENDING
2. conflictFlag = false
3. requiredAttributes 全部已定义
4. mappingProgress >= 80%
5. 主键属性 >= 1
```

语义版本允许发布需满足：

```text
所有对象均满足「对象允许发布」条件
```

---

## 八、这版 IA 能解决什么问题？

| 问题             | 是否解决 |
| -------------- | ---- |
| 不知道为什么不能发布     | ✅    |
| 不知道先处理谁        | ✅    |
| 候选 / 待确认语义混乱   | ✅    |
| 建模 / 治理心智冲突    | 大幅缓解 |
| 后续引入流程 / Agent | 完全兼容 |

---

## 九、一句终极评价（你可以对团队说）

> **这不是在给对象页面“加功能”，
> 而是在把“语义治理的终点（发布）”拉回到用户视野中。**

